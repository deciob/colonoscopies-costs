{"version":3,"sources":["tmp.smash.js"],"names":[],"mappings":"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","file":"nightcharts-bare.js","sourcesContent":["\nnightcharts.config = {\n\n  axisMaxTxtDensity/*per 100px of width*/: {width: 15, height: 12},\n  //TODO: remove useBaselineInDomain from rest of code\n\n  // brushing... TODO: move to its own config object\n  // false or object {slider: true, snapToDataPoints: true, lollyRadius: 20}\n  // TODO: change name to avoid confusion with d3.brush in code\n  brush: false,\n  brushSelections/*undefined || {}*/: void 0,\n\n  // clipping... TODO: move to its own config object\n  clip: {vOffset: 20},\n  clipIdKey: void 0,\n\n  devMode: false,\n  divergingGraph: false,\n  duration: 700,\n  ease: 'linear',\n  graphType: void 0,\n  height: 100,\n  id: void 0,\n  invertOrientation: false,\n  margin: {'top': 10, 'right': 20, 'bottom': 30, 'left': 30},\n\n  // new tooltips... TODO: move to its own config object\n  tip/*false || {}*/: false,\n\n  titleLabel: false,\n\n  // old tooltips\n  tooltip: false,\n\n  useViewBox: true,\n  width: 200,\n  xAccessor: function(d, i) {return d[0];},\n\n  // xAxis... TODO: move to its own config object\n  xAxis: void 0,\n  xAxisDataAccessor: function(data) {return [data];},\n  xAxisLabel/*{text: 'Hello label!'}*/: false,\n  xAxisOrient: 'bottom',\n  xAxisShow: true,\n\n  xDomain: void 0,\n  xMarkers: {useInDomain: true, data/*[]*/: void 0, prevPos/*[]*/: void 0, /*duration*/},\n\n  // offset the graph along the x axis:\n  xOffset: 0,\n\n  xScaleType: 'ordinal',\n\n  // xAxis...\n  xTickValues: void 0,\n\n  yAccessor: function(d, i) {return d[1];},\n\n  // yAxis... TODO: move to its own config object\n  yAxis: void 0,\n  yAxisLabel: false,\n  yAxisOrient: 'left',\n  yAxisShow: true,\n  yDomain: void 0,\n  yMarkers: {useInDomain: true, data/*[]*/: void 0, prevPos/*[]*/: void 0, /*duration*/},\n\n  // offset the graph over the x axis:\n  yOffset: 0,\n\n  yScaleType: 'linear',\n};\n\nnightcharts.lineConfig = {\n  area: false,\n  areaY0Accessor: function(d) {return d.min;},\n  areaY1Accessor: function(d) {return d.max;},\n\n  // An extra graph at the base, just above the axis, to add some binary data\n  binaryBaseline: false,\n\n  // If the data that generates a line has a property, use it to set an additional class name\n  // Example: classSetterOnData: 'id'\n  classSetterOnData: void 0,\n\n  lineInterpolation: 'linear',\n  listenToBrushEvents: false,\n\n  // Max can be calculated in many ways, in this case we are forcing a minimum max value\n  // on the y axis, but if the domain in bigger, then the max value will be taken from the\n  // domain instead.\n  minYMax: 0,\n  \n  // TODO: should not need to explicitly declare a symbol for every line!\n  // [d3.svg.symbol().type('circle')]\n  symbols: false,\n  symbolClassSetter: void 0,\n};\n\nnightcharts.barConfig = {\n  barBackground: false,\n  barClassSetter: void 0,\n  barWidth: void 0,\n\n  // Set > 0 to round bar corners\n  rx: 0,\n  ry: 0,\n\n  slideBars: false,\n  timeUnit: void 0,\n};\n\nnightcharts.histoBarConfig = {\n  bins: 10,\n  barClassSetter: void 0,\n  containerCssClass: 'foreground',\n  dataTransform: function(data) {return data;},\n  histFormatCount: d3.format(',.0f'),\n  histShowTxt: false,\n  roundBins: false,\n};\n//http://ramdajs.com/0.17/index.html\nnightcharts.R = function() {\n  'use strict';\n\n  // jshint unused:vars\n  var _arity = function _arity(n, fn) {\n    // jshint unused:vars\n    switch (n) {\n    case 0:\n      return function () {\n        return fn.apply(this, arguments);\n      };\n    case 1:\n      return function (a0) {\n        return fn.apply(this, arguments);\n      };\n    case 2:\n      return function (a0, a1) {\n        return fn.apply(this, arguments);\n      };\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.apply(this, arguments);\n      };\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.apply(this, arguments);\n      };\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.apply(this, arguments);\n      };\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.apply(this, arguments);\n      };\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.apply(this, arguments);\n      };\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.apply(this, arguments);\n      };\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.apply(this, arguments);\n      };\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.apply(this, arguments);\n      };\n    default:\n      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n    }\n  };\n\n  var _curry1 = function _curry1(fn) {\n    return function f1(a) {\n      if (arguments.length === 0) {\n        return f1;\n      } else if (a != null && a['@@functional/placeholder'] === true) {\n        return f1;\n      } else {\n        return fn.apply(this, arguments);\n      }\n    };\n  };\n\n  var _curry2 = function _curry2(fn) {\n    return function f2(a, b) {\n      var n = arguments.length;\n      if (n === 0) {\n        return f2;\n      } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n        return f2;\n      } else if (n === 1) {\n        return _curry1(function (b) {\n          return fn(a, b);\n        });\n      } else if (n === 2 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true) {\n        return f2;\n      } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n        return _curry1(function (a) {\n          return fn(a, b);\n        });\n      } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n        return _curry1(function (b) {\n          return fn(a, b);\n        });\n      } else {\n        return fn(a, b);\n      }\n    };\n  };\n\n  var _curry3 = function _curry3(fn) {\n    return function f3(a, b, c) {\n      var n = arguments.length;\n      if (n === 0) {\n        return f3;\n      } else if (n === 1 && a != null && a['@@functional/placeholder'] === true) {\n        return f3;\n      } else if (n === 1) {\n        return _curry2(function (b, c) {\n          return fn(a, b, c);\n        });\n      } else if (n === 2 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true) {\n        return f3;\n      } else if (n === 2 && a != null && a['@@functional/placeholder'] === true) {\n        return _curry2(function (a, c) {\n          return fn(a, b, c);\n        });\n      } else if (n === 2 && b != null && b['@@functional/placeholder'] === true) {\n        return _curry2(function (b, c) {\n          return fn(a, b, c);\n        });\n      } else if (n === 2) {\n        return _curry1(function (c) {\n          return fn(a, b, c);\n        });\n      } else if (n === 3 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true && c != null && c['@@functional/placeholder'] === true) {\n        return f3;\n      } else if (n === 3 && a != null && a['@@functional/placeholder'] === true && b != null && b['@@functional/placeholder'] === true) {\n        return _curry2(function (a, b) {\n          return fn(a, b, c);\n        });\n      } else if (n === 3 && a != null && a['@@functional/placeholder'] === true && c != null && c['@@functional/placeholder'] === true) {\n        return _curry2(function (a, c) {\n          return fn(a, b, c);\n        });\n      } else if (n === 3 && b != null && b['@@functional/placeholder'] === true && c != null && c['@@functional/placeholder'] === true) {\n        return _curry2(function (b, c) {\n          return fn(a, b, c);\n        });\n      } else if (n === 3 && a != null && a['@@functional/placeholder'] === true) {\n        return _curry1(function (a) {\n          return fn(a, b, c);\n        });\n      } else if (n === 3 && b != null && b['@@functional/placeholder'] === true) {\n        return _curry1(function (b) {\n          return fn(a, b, c);\n        });\n      } else if (n === 3 && c != null && c['@@functional/placeholder'] === true) {\n        return _curry1(function (c) {\n          return fn(a, b, c);\n        });\n      } else {\n        return fn(a, b, c);\n      }\n    };\n  };\n\n  var _curryN = function _curryN(length, received, fn) {\n    return function () {\n      var combined = [];\n      var argsIdx = 0;\n      var left = length;\n      var combinedIdx = 0;\n      while (combinedIdx < received.length || argsIdx < arguments.length) {\n        var result;\n        if (combinedIdx < received.length && (received[combinedIdx] == null || received[combinedIdx]['@@functional/placeholder'] !== true || argsIdx >= arguments.length)) {\n          result = received[combinedIdx];\n        } else {\n          result = arguments[argsIdx];\n          argsIdx += 1;\n        }\n        combined[combinedIdx] = result;\n        if (result == null || result['@@functional/placeholder'] !== true) {\n          left -= 1;\n        }\n        combinedIdx += 1;\n      }\n      return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n    };\n  };\n\n  var _isArray = Array.isArray || function _isArray(val) {\n    return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n  };\n\n  var _pipe = function _pipe(f, g) {\n    return function () {\n      return g.call(this, f.apply(this, arguments));\n    };\n  };\n\n  var _slice = function _slice(args, from, to) {\n    switch (arguments.length) {\n    case 1:\n      return _slice(args, 0, args.length);\n    case 2:\n      return _slice(args, from, args.length);\n    default:\n      var list = [];\n      var idx = 0;\n      var len = Math.max(0, Math.min(args.length, to) - from);\n      while (idx < len) {\n        list[idx] = args[from + idx];\n        idx += 1;\n      }\n      return list;\n    }\n  };\n\n  var _xwrap = function () {\n    function XWrap(fn) {\n      this.f = fn;\n    }\n    XWrap.prototype['@@transducer/init'] = function () {\n      throw new Error('init not implemented on XWrap');\n    };\n    XWrap.prototype['@@transducer/result'] = function (acc) {\n      return acc;\n    };\n    XWrap.prototype['@@transducer/step'] = function (acc, x) {\n      return this.f(acc, x);\n    };\n    return function _xwrap(fn) {\n      return new XWrap(fn);\n    };\n  }();\n\n  var bind = _curry2(function bind(fn, thisObj) {\n    return _arity(fn.length, function () {\n      return fn.apply(thisObj, arguments);\n    });\n  });\n\n  var curryN = _curry2(function curryN(length, fn) {\n    if (length === 1) {\n      return _curry1(fn);\n    }\n    return _arity(length, _curryN(length, [], fn));\n  });\n\n  var isArrayLike = _curry1(function isArrayLike(x) {\n    if (_isArray(x)) {\n      return true;\n    }\n    if (!x) {\n      return false;\n    }\n    if (typeof x !== 'object') {\n      return false;\n    }\n    if (x instanceof String) {\n      return false;\n    }\n    if (x.nodeType === 1) {\n      return !!x.length;\n    }\n    if (x.length === 0) {\n      return true;\n    }\n    if (x.length > 0) {\n      return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n    }\n    return false;\n  });\n\n  var reverse = _curry1(function reverse(list) {\n    return _slice(list).reverse();\n  });\n\n  var _checkForMethod = function _checkForMethod(methodname, fn) {\n    return function () {\n      var length = arguments.length;\n      if (length === 0) {\n        return fn();\n      }\n      var obj = arguments[length - 1];\n      return _isArray(obj) || typeof obj[methodname] !== 'function' ? fn.apply(this, arguments) : obj[methodname].apply(obj, _slice(arguments, 0, length - 1));\n    };\n  };\n\n  var _reduce = function () {\n    function _arrayReduce(xf, acc, list) {\n      var idx = 0, len = list.length;\n      while (idx < len) {\n        acc = xf['@@transducer/step'](acc, list[idx]);\n        if (acc && acc['@@transducer/reduced']) {\n          acc = acc['@@transducer/value'];\n          break;\n        }\n        idx += 1;\n      }\n      return xf['@@transducer/result'](acc);\n    }\n    function _iterableReduce(xf, acc, iter) {\n      var step = iter.next();\n      while (!step.done) {\n        acc = xf['@@transducer/step'](acc, step.value);\n        if (acc && acc['@@transducer/reduced']) {\n          acc = acc['@@transducer/value'];\n          break;\n        }\n        step = iter.next();\n      }\n      return xf['@@transducer/result'](acc);\n    }\n    function _methodReduce(xf, acc, obj) {\n      return xf['@@transducer/result'](obj.reduce(bind(xf['@@transducer/step'], xf), acc));\n    }\n    var symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\n    return function _reduce(fn, acc, list) {\n      if (typeof fn === 'function') {\n        fn = _xwrap(fn);\n      }\n      if (isArrayLike(list)) {\n        return _arrayReduce(fn, acc, list);\n      }\n      if (typeof list.reduce === 'function') {\n        return _methodReduce(fn, acc, list);\n      }\n      if (list[symIterator] != null) {\n        return _iterableReduce(fn, acc, list[symIterator]());\n      }\n      if (typeof list.next === 'function') {\n        return _iterableReduce(fn, acc, list);\n      }\n      throw new TypeError('reduce: list must be array or iterable');\n    };\n  }();\n\n  var curry = _curry1(function curry(fn) {\n    return curryN(fn.length, fn);\n  });\n\n  var reduce = _curry3(_reduce);\n\n  var slice = _curry3(_checkForMethod('slice', function slice(fromIndex, toIndex, list) {\n    return Array.prototype.slice.call(list, fromIndex, toIndex);\n  }));\n\n  var tail = _checkForMethod('tail', slice(1, Infinity));\n\n  var pipe = function pipe() {\n    if (arguments.length === 0) {\n      throw new Error('pipe requires at least one argument');\n    }\n    return curryN(arguments[0].length, reduce(_pipe, arguments[0], tail(arguments)));\n  };\n\n  var compose = function compose() {\n    if (arguments.length === 0) {\n      throw new Error('compose requires at least one argument');\n    }\n    return pipe.apply(this, reverse(arguments));\n  };\n\n\n  return {\n    compose: compose,\n    curry: curry\n  };\n};\nnightcharts.utils = function() {\n  'use strict';\n  \n  var R = nightcharts.R();\n  var curry = R.curry;\n  var compose = R.compose;\n\n  // http://stackoverflow.com/questions/9407892/how-to-generate-random-sha1-hash-to-use-as-id-in-node-js\n  // str generateId(int len);\n  // len - must be an even number (default: 40)\n  var generateRandStr = function (len) {\n    var arrL = Math.floor((len || 40) / 2),\n        arr = new Uint8Array(arrL);\n    window.crypto.getRandomValues(arr);\n    return 'i' + [].map.call(arr, function(n) { return n.toString(16); }).join(\"\");\n  };\n\n  function isObject(o) {\n    return Object.prototype.toString.call(o) === \"[object Object]\";\n  }\n\n  var clone = function (obj) {\n    if (null === obj || \"object\" != typeof obj) return obj;\n    //WARNING: will fail with angular Resources, call toJSON first!\n    var copy = obj.constructor();\n    if (!copy) {\n      var attrs = Object.keys(obj).map(function(o){return o;}).join(', ');\n      throw new Error('TODO: config Object with attibutes: \"' + attrs + '\" is not overridable');\n    }\n    for (var attr in obj) {\n      if (obj.hasOwnProperty(attr)) {\n        copy[attr] = obj[attr];\n      }\n    }\n    return copy;\n  };\n\n  // extend target with source\n  function extend(target, source, options) {\n    if (!isObject(target) || !isObject(source)) {\n      throw new Error('extend only accepts objects')\n    }\n    var use_clone = (!options || options.use_clone === undefined) ? true : options.use_clone;\n    // not_override (target) defaults to false.\n    var not_override = (options && options.not_override === undefined || !options) ? false : options.not_override;\n    var target_clone = use_clone ? clone(target) : target;\n    for (var prop in source) {\n      if (not_override) {\n        target_clone[prop] = target_clone[prop] ? target_clone[prop] : source[prop];\n      } else {\n        target_clone[prop] = source[prop];\n      }\n    }\n    return target_clone;\n  }\n\n  /**\n   * getset()\n   * For each attribute in `state` it sets a getter-setter function on `obj`.\n   * Accepts one level nested `state` objects.\n   *\n   * @param {object || function} obj (usually the exports function)\n   * @param {object || function} state (usually the options to set on the exports function)\n   * @return obj\n   */\n  var getset = function (obj, state) {\n    d3.entries(state).forEach(o => {\n      obj[o.key] = function (x) {\n        if (!arguments.length) return state[o.key];\n        if ( isObject(o.value) ) {\n          state[o.key] = extend(o.value, x);\n        } else {\n          state[o.key] = x;\n        }\n        return obj;\n      };\n    });\n    return obj;\n  };\n\n  // This makes few assumptions.\n  // We expect a consistent array of arrays, objects or primitive values.\n  // TEST!\n  var isNestedDataObj = function (data) {\n    if (data.constructor !== Array) {\n      throw new Error(\"data must be an array of something!\");\n    }\n    // TODO: workaround for angular resources! Test!\n    if (typeof data[0] === \"object\" && data[0].constructor !== Array) return false;\n    if (data.length === 0) return false;\n    if (data[0].constructor === Object) return false;\n    if (data[0].constructor === Array && typeof data[0][0] !== 'object') return false;\n    return true;\n  };\n\n  var max = function (data, accessor, _buffer) {\n    var nested = isNestedDataObj(data),\n        buffer = _buffer === undefined ? false : _buffer,\n        max;\n    if (nested) {\n      max = d3.max(data, function(d) {\n        return d3.max(d, accessor);\n      });\n    } else {\n      max = d3.max(data, accessor);\n    }\n    if (buffer) {\n      // TODO: this buffer stuff should be in a separate function!!!!\n      max = max + max * 0.05;\n    }\n    return max;\n  };\n\n  var min = function (data, accessor, _buffer) {\n    var nested = isNestedDataObj(data),\n        buffer = _buffer === undefined ? false : _buffer,\n        min;\n    if (nested) {\n      min = d3.min(data, function(d) {\n        return d3.min(d, accessor);\n      });\n    } else {\n      min = d3.min(data, accessor);\n    }\n    if (buffer) {\n      min = min - min * 0.05;\n    }\n    return min;\n  };\n\n  var getLongerArr = function (data) {\n    var nested = isNestedDataObj(data),\n        n = 0,\n        idx,\n        arr;\n    if (nested) {\n      data.forEach(function (d, i) {\n        if (d.length > n) {\n          idx = i;\n          n = d.length;\n        }\n      });\n      return data[idx];\n    } else {\n      return data;\n    }\n  };\n\n  var getChartWidth = function(config) {\n    var xOffset = config.xOffset || 0;\n    return config.width - config.margin.left - config.margin.right - xOffset;\n  };\n\n  var getChartHeight = function(config) {\n    var yOffset = config.yOffset || 0;\n    return config.height - config.margin.top - config.margin.bottom - yOffset;\n  };\n\n  function getXRange(config) {\n    var chartW = getChartWidth(config);\n    var chartH = getChartHeight(config);\n    return config.invertOrientation ? [chartH, 0] : [0, chartW];\n  }\n\n  function getYRange(config) {\n    var chartW = getChartWidth(config);\n    var chartH = getChartHeight(config);\n    return config.invertOrientation ? [0, chartW] : [chartH, 0];\n  }\n\n  /**\n   * snapToValue() returns a selected value from arr\n   * that better fits val\n   *\n   * @param {Array of numbers} arr\n   * @param {Number} value\n   * @return {Number} selected\n   */\n  var snapToValue = function(arr, value) {\n    var middleValIdx = Math.floor(arr.length / 2);\n    var middleVal = arr[middleValIdx];\n    if (value === middleVal) {\n      return value;\n    } else if (arr.length > 2 && value < middleVal) {\n      return snapToValue(arr.slice(0, middleValIdx + 1), value);\n    } else if (arr.length > 2 && value > middleVal) {\n      return snapToValue(arr.slice(middleValIdx), value);\n    } else if (arr.length == 2) {\n      return value - arr[0] > arr[1] - value ? arr[1] : arr[0];\n    }\n  };\n\n  // Fires a callback when all transitions of a chart have ended.\n  // The solution is inspired from a reply in \n  // [Single event at end of transition?](https://groups.google.com/forum/#!msg/d3-js/WC_7Xi6VV50/j1HK0vIWI-EJ). \n  // The original suggestion assumes the data length never changes, this \n  // instead also accounts for `exits` during the transition.\n  function endall (elements_in_transition, data, callback) {\n    var n = data.length;\n    elements_in_transition \n      .each(\"end\", function() { \n        if (!--n) {\n          callback.apply(this, arguments);\n        }\n      });\n  }\n\n  // http://stackoverflow.com/questions/6660977/convert-hyphens-to-camel-case-camelcase\n  function hyphenToCamelCase(string) {\n    return string.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\n  }\n\n  function checkForData(config, data) {\n    if (!data) {\n      if (config.devMode) {\n        console.warn('baseSvg - no data');\n      }\n      return false; \n    } else {\n      if (config.lineInterpolation /*proxy for line graph*/) {\n        // every dataBlock is a line...\n        let longerDataBlock = getLongerArr(data);\n        if (longerDataBlock.length < 2) {\n          if (config.devMode) {\n            console.warn('lineData has less than 2 dat points');\n          }\n          return false;\n        }\n\n      }\n      return true;\n    }\n  }\n\n  function getXDomain(config, data) {\n    var xDomain;\n    if (!config.xDomain && config.xScaleType == 'ordinal') {\n      xDomain = data.map(config.xAccessor);\n    } else if (!config.xDomain && config.xScaleType != 'ordinal') {\n      xDomain = [min(data, config.xAccessor), max(data, config.xAccessor)];\n    } else {\n      xDomain = config.xDomain;\n    }\n    return xDomain;\n  }\n\n  function getXScale(config, domain, range, data) {\n    var xScale;\n    var xScaleType = config.xScaleType;\n    if (xScaleType == 'ordinal') {\n      xScale = d3.scale[xScaleType]().domain(domain).rangeRoundBands(range, 0.1);\n    } else if (config.xScaleType == 'time') {\n      xScale = d3.time.scale().domain(domain).range(range);\n    } else {\n      xScale = d3.scale[xScaleType]().domain(domain).range(range);\n    }\n    return xScale;\n  }\n\n  function getYDomain(config, data) {\n    var yDomain;\n    var yMin = min(data, config.yAccessor);\n    var yMax = max(data, config.yAccessor);\n    if (!config.yDomain && yMin <= 0) {\n      yDomain = [yMin, yMax];\n    } else if (!config.yDomain && yMin > 0) {\n      yDomain = [0, yMax];\n    } else {\n      yDomain = config.yDomain;\n    }\n    return yDomain;\n  }\n\n  function getYScale(config, domain, range, data) {\n    var yScale;\n    var yScaleType = config.yScaleType;\n    if (config.yScaleType == 'time') {\n      yScale = d3.time.scale().domain(domain).range(range);\n    } else {\n      yScale = d3.scale[yScaleType]().domain(domain).range(range);\n    }\n    return yScale;\n  }\n\n  function setConfig(_config, componentConfigName) {\n    _config = _config ? _config : clone(d3.nightcharts.config);\n    var componentConfig = d3.nightcharts[componentConfigName] || {};\n    return extend(componentConfig, _config, {use_clone: true});\n  }\n\n  function getNormalilzedYValue(config, value) {\n    if (config.yScaleType == 'log' && value === 0) {\n      return 1;\n    } else {\n      return value;\n    }\n  }\n\n  function getTimespan(t1, t2) {\n    if (t1 instanceof Date) {\n      return t2 - t1;\n    } else {\n      return new Date(t2).getTime() - new Date(t1).getTime();\n    }\n  }\n\n  function adjustDomainForBarOnTimescale(xDomain, config, data) {\n    var adjustedDomain = [];\n    var timeSpan = getTimespan(xDomain[0], xDomain[1]);\n    var timeUnit = config.timeUnit || Math.round(timeSpan / (data.length - 1));\n    var t1 = xDomain[0] instanceof Date ? xDomain[0].getTime() : xDomain[0];\n    var t2 = xDomain[1] instanceof Date ? xDomain[1].getTime() : xDomain[1];\n    //console.log(new Date(xDomain[0]), new Date(t1 - Math.round(timeUnit/2)) );\n    adjustedDomain.push( t1 - Math.round(timeUnit/2) );\n    adjustedDomain.push( t2 + Math.round(timeUnit/2) );\n    //xScale.domain(xDomain);\n    return adjustedDomain;\n  }\n\n  function getSvgBasics(config, data) {\n    var chartW = getChartWidth(config);\n    var chartH = getChartHeight(config);\n    var invertOrientation = config.invertOrientation;\n    var xRange = getXRange(config);\n    var yRange = getYRange(config);\n    var xDomain = getXDomain(config, data);\n    var yDomain = getYDomain(config, data);\n    var xScale = getXScale(config, xDomain, xRange, data);\n    var yScale = getYScale(config, yDomain, yRange, data);\n\n    return [chartW, chartH, invertOrientation, xRange, yRange, xDomain, yDomain, xScale, yScale];\n  }\n\n  var getYMax = function(data, config) {\n    // TODO: buffer is not used with minYMax option!!!!\n    var yMax = d3.max([max(data, config.area ? config.areaY1Accessor :\n     config.yAccessor, true), config.minYMax]);\n    var tmp;\n    if (d3.keys(config.baselines).length > 0 && config.useBaselineInDomain) {\n      tmp = d3.values(config.baselines);\n      tmp.push(yMax);\n      yMax = d3.max(tmp);\n    }\n    return yMax;\n  };\n\n\n  var regroupData = function(config, data) {\n    var groupedData = [];\n    var dataGroup = [];\n    var prev = true;\n    data.forEach(function(d) {\n      if (config.yAccessor(d) !== undefined && prev) {\n        dataGroup.push(d);\n      } else if (config.yAccessor(d) !== undefined  && !prev) {\n        groupedData.push(dataGroup);\n        dataGroup = [];\n        dataGroup.push(d);\n        prev = true;\n      } else if (config.yAccessor(d) === undefined) {\n        prev = false;\n      }\n    });\n    if (groupedData.length === 0 || dataGroup.length !== 0) { groupedData.push(dataGroup); }\n    return groupedData;\n  };\n\n  var sparseData = function(_data) {\n    return _data.filter(function(d, i) {\n      return i % 2;\n    });\n  };\n\n  var getTxtDensity = function(config, data, dimension) {\n    if (data.length === 0) {return 0;}\n    var totalTxt = data.reduce(function(prev, current) {\n      return ('' + prev) + ('' + current);\n    }).length;\n    return totalTxt / (config[dimension] / 100);\n  };\n\n  var reduceAxisDensity = function(config, data, _dimension) {\n    var dimension = _dimension || 'width';\n    var txtDensity = getTxtDensity(config, data, dimension);\n    if (txtDensity > config.axisMaxTxtDensity[dimension]) {\n      data = sparseData(data);\n    }\n    txtDensity = getTxtDensity(config, data, dimension);\n    if (txtDensity > config.axisMaxTxtDensity[dimension]) {\n      return reduceAxisDensity(config, data, dimension);\n    } else {\n      return data;\n    }\n  };\n\n  function validateDimensions(config) {\n    if (config.width === 0 || config.height === 0) {\n      if (config.devMode) { console.warn(\"width or height is zero!\"); }\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  function getLineGenerator(x, y, config, yAccessor, xAccessor) {\n    return d3.svg.line()\n      .interpolate(config.lineInterpolation)\n      .x(function(d, i) {\n        var path = x(xAccessor ? xAccessor(d) : config.xAccessor(d));\n        if (isNaN(path)) {\n          if (config.devMode) { console.error('lineUtils.getLineGenerator x error'); }\n          return '';\n        }\n        return path;\n      })\n      .y(function(d, i) {\n        var path = y(yAccessor ? yAccessor(d) : config.yAccessor(d));\n        if (isNaN(path)) {\n          if (config.devMode) { console.error('lineUtils.getLineGenerator y error'); }\n          return '';\n        }\n        return path;\n      });\n  }\n\n  function getAreaGenerator(x, y, config) {\n    return d3.svg.area()\n      .interpolate(config.lineInterpolation)\n      .x(function(d, i) {\n        return x(config.xAccessor(d));\n      })\n      .y0(function(d, i) {\n        return y(config.areaY0Accessor(d));\n      })\n      .y1(function(d, i) {\n        return y(config.areaY1Accessor(d));\n      });\n  }\n\n  // flattenArray :: [a] -> [b]\n  function flattenArray(arr) {\n    //TODO: this check might not always be correct.\n    if (!isNestedDataObj(arr)) {\n      return arr.map(function(d, i) {\n        d.idx = `0-${i}`;\n        return d;\n      });\n    }\n    return arr.reduce(function(_a, _b, idx, arr) {\n      var a = _a.map(function(d, i) {\n        if (!d.idx) {\n          d.idx = `${idx-1}-${i}`;\n        }\n        return d;\n      });\n      var b = _b.map(function(d, i) {\n        d.idx = `${idx}-${i}`;\n        return d;\n      });\n      return a.concat(b);\n    }, []);\n  }\n\n  return {\n    curry: curry,\n    compose: compose,\n    generateRandStr: generateRandStr,\n    clone: clone,\n    extend: extend,\n    isObject: isObject,\n    getset: getset,\n    isNestedDataObj: isNestedDataObj,\n    max: max,\n    min: min,\n    getLongerArr: getLongerArr,\n    getChartWidth: getChartWidth,\n    getChartHeight: getChartHeight,\n    getXRange: getXRange,\n    getYRange: getYRange,\n    snapToValue: snapToValue,\n    endall: endall,\n    hyphenToCamelCase: hyphenToCamelCase,\n    getXDomain: getXDomain,\n    getXScale: getXScale,\n    getYDomain: getYDomain,\n    getYScale: getYScale,\n    setConfig: setConfig,\n    getNormalilzedYValue: getNormalilzedYValue,\n    getTimespan: getTimespan,\n    adjustDomainForBarOnTimescale: adjustDomainForBarOnTimescale,\n    getSvgBasics: getSvgBasics,\n    getYMax: getYMax,\n    checkForData: checkForData,\n    regroupData: regroupData,\n    reduceAxisDensity: reduceAxisDensity,\n    validateDimensions: validateDimensions,\n    getLineGenerator: getLineGenerator,\n    getAreaGenerator: getAreaGenerator,\n    flattenArray: flattenArray,\n  };\n\n};\nnightcharts.domHelpers = function() {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var labels = d3.nightcharts.domLabelHelpers();\n  var bushInitialized = false;\n\n\n  var setChartGroupsContainer = function(g, data, clipId, cssClass) {\n    // Mostly for angular related apps:\n    var isBaseInHead = d3.select('base')[0][0];\n    var urlBase = isBaseInHead ? document.location.href : '';\n    var container = g\n        .selectAll(cssClass ? \".chart-groups.\" + cssClass : \".chart-groups\")\n        .data([data]);\n    container.enter()\n        .append(\"g\")\n        .attr(\"class\", cssClass ? \"chart-groups \" + cssClass : \"chart-groups\")\n        .attr(\"clip-path\", \"url(\" + urlBase + \"#\" + (clipId || 'xxx') + \")\");\n    return container;\n  };\n\n  var setNoDataWarning = function(container, config) {\n    return;\n    var noData = container.select('.no-data');\n    var msg;\n    if (!noData[0][0]) {\n      let width = utils.getChartWidth(config);\n      let height = utils.getChartHeight(config);\n      noData = container.append('svg')\n          //.attr('width', width)\n          //.attr('height', height)\n          .attr('class', 'no-data');\n      msg = noData.append('text')\n          .attr('x', Math.round(width / 2))\n          .attr('y', Math.round(height / 2))\n          .attr('text-anchor', 'middle')\n          .text('No Data');\n    }\n  };\n\n  function setMarkers(container, _config, graphData, type) {\n    if (!type) {\n      throw new Error('setMarkers type must be correctly defined');\n    }\n\n    var config = utils.clone(_config);\n\n    var iO = config.invertOrientation;\n    var markerKey = type == 'x' ? 'xMarkers' : 'yMarkers';\n    var xRange = utils.getXRange(config);\n    var yRange = utils.getYRange(config);\n    var data = config[markerKey].data;\n\n    var xDomain;\n    var yDomain;\n\n    if (type == 'x') {\n      xDomain = utils.getXDomain(config, graphData);\n      yDomain = [0, 1];\n      if (config.yScaleType == 'ordinal') { config.yScaleType = 'linear'; }\n    } else {\n      xDomain = [0, 1];\n      yDomain = utils.getYDomain(config, graphData);\n      if (config.xScaleType == 'ordinal') { config.xScaleType = 'linear'; }\n    }\n\n    var xScale;\n    var yScale;\n\n    if (type == 'x') {\n      xScale = utils.getXScale(config, xDomain, xRange, data);\n      yScale = utils.getYScale(config, yDomain, yRange, yDomain);\n    } else {\n      //             getXScale(config, domain, range, data)\n      xScale = utils.getXScale(config, xDomain, xRange, xDomain);\n      yScale = utils.getYScale(config, yDomain, yRange, data);\n    }\n\n    config[markerKey].prevPos = config[markerKey].data.map(function(d) {\n      return void 0;\n    });\n\n    var markerG = container.select(`.nc-${type}-markers-grp`);\n    if (!markerG[0][0]) {\n      markerG = container\n        .insert('g', 'g')\n          .attr('class', `nc-${type}-markers-grp`);\n    }\n    \n    var markers = markerG\n        .selectAll(`.nc-${type}-marker`)\n        .data(data);\n\n    markers.enter()\n      .append('line')\n        .attr('class', function(d) {\n          if (d.key) {\n            return `nc-${type}-marker nc-marker line ${d.key}`;\n          }\n          return `nc-${type}-marker nc-marker line`;\n        });\n\n    if (type == 'x') {\n      markers\n        .attr('y1', iO ? function(d) {return Math.round(xScale(d));} : yScale(yDomain[0]))\n        .attr('y2', iO ? function(d) {return Math.round(xScale(d));} : yScale(yDomain[1]))\n        .attr('x1', iO ? yScale(yDomain[0]) : function(d) {return Math.round(xScale(d));})\n        .attr(\"x2\", iO ? yScale(yDomain[1]) : function(d) {return Math.round(xScale(d));});\n    } else {\n      markers\n        .attr('x1', function(d) {\n          return iO ? Math.round(yScale(d)) : xScale(xDomain[0]);\n        })\n        .attr('y1', function(d) {\n          return iO ? yScale(yDomain[0]) : Math.round(yScale(d));\n        })\n        .attr('x2', function(d) {\n          return iO ? Math.round(yScale(d)) : xScale(xDomain[1]);\n        })\n        .attr('y2', function(d) {\n          return iO ? yScale(yDomain[1]) : Math.round(yScale(d));\n        });\n    }\n\n    markers.exit()\n        .remove();\n\n    markers.each(function(d, i) {\n      if (!config[markerKey].prevPos[i]) {\n        let _type;\n        if (iO) {\n          if (type == 'x') { _type = 'y'; }\n          if (type == 'y') { _type = 'x'; } \n        } else {\n          _type = type;\n        }\n        config[markerKey].prevPos[i] = +this.attributes[`${_type}1`].value;\n      }\n    });\n\n    markers\n      .transition()\n      .duration(function(d, i) {\n        return config.xMarkers.duration || config.duration;\n      })\n      .attr(\"transform\", function(d, i) {\n        var scalePrev = Math.round(config[markerKey].prevPos[i], 1);\n        var scaleVal = Math.round(type == 'x' ? xScale(d) : yScale(d), 1);\n        var val = scaleVal - scalePrev;\n        config[markerKey].prevPos[i] = scaleVal;\n        return `translate(${val})`;\n      });\n\n    return markerG;\n  } \n\n  function setXMarkers(container, config, graphData) {\n    if (!config.xMarkers.data || config.xMarkers.data.length === 0) {return;}\n\n    return setMarkers(container, config, graphData, 'x');\n  };\n\n  function setYMarkers(container, config, graphData) {\n    if (!config.yMarkers.data || config.yMarkers.data.length === 0) {return;}\n\n    return setMarkers(container, config, graphData, 'y');\n  };\n\n  //TODO: lots of arguments here!\n  var setSymbol = function(className, config, data, yScale, xScale, xAccessor, symbol, _duration, idx) {\n    if (!symbol) { throw new Error('Symbol is undefined!');}\n    var duration = _duration !== undefined ? _duration : config.duration;\n    var container = d3.select(this);\n    var dotsG = container.selectAll(`g.${className}`).data([data]);\n    dotsG.enter().append(\"g\")\n        .classed(className, true);\n    dotsG.exit().remove();\n\n    var dots = dotsG.selectAll(\"path\")\n        .data(data);\n    dots.enter().append(\"path\")\n      .attr(\"transform\", function(d) {\n        var x = xAccessor(d);\n        var y = config.yAccessor(d);\n        if (x !== undefined && y !== undefined) {\n          return \"translate(\" + xScale(x) + \",\" + yScale(y) + \")\";\n        } else {\n          return null;\n        }\n      })\n      .attr(\"class\", function(d, i) {\n        var cssClass;\n        if (config.symbolClassSetter && config.yAccessor(d) !== undefined) {\n          cssClass = config.symbolClassSetter.call(this, d);\n        } else {\n          cssClass = '';\n        }\n        if (idx !== undefined) {\n          cssClass = `${cssClass} tip-${idx}-${i}`;\n        }\n        return cssClass;\n      })\n      .attr(\"d\", function(d) {\n        if (config.yAccessor(d) !== undefined) { return symbol.call(this); }\n      });\n    dots.exit().remove();\n\n    // Updates based on config, not data.\n    dotsG.selectAll(`g.${className} path`)\n        .transition()\n        .duration(duration)\n        .ease(config.ease)\n        .attr(\"transform\", function(d) {\n          var x = xAccessor(d);\n          var y = config.yAccessor(d);\n          if (x !== undefined && y !== undefined) {\n            return \"translate(\" + xScale(x) + \",\" + yScale(y) + \")\";\n          } else {\n            return null;\n          }\n        });\n\n    return dotsG;\n  };\n\n  function setLine(config, data, lineGenerator, setSymbol, _duration) {\n    var duration = _duration !== undefined ? _duration : config.duration;\n    var container = d3.select(this);\n    var line = container.selectAll('path.line').data(data);\n    line.enter().insert(\"path\", 'g.dots')\n      .classed('line', function(d) {\n        return true;\n      });\n    line.exit().remove();\n    // Updates based on config, not data.\n    container.selectAll('path.line')\n        .transition()\n        .duration(duration)\n        .ease(config.ease)\n        .attr(\"d\", lineGenerator)\n        .each(\"end\", setSymbol);\n    return line;\n  }\n\n\n  return {\n    setChartGroupsContainer: setChartGroupsContainer,\n    setNoDataWarning: setNoDataWarning,\n    setXMarkers: setXMarkers,\n    setYMarkers: setYMarkers,\n    setSymbol: setSymbol,\n    setLine: setLine,\n  };\n\n};\nnightcharts.domLabelHelpers = function() {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var curry = utils.curry;\n  var compose = utils.compose;\n\n  // Copyed from: http://bl.ocks.org/mbostock/7555321\n  function wrapLabel(text, width) {\n    text.each(function() {\n      var text = d3.select(this),\n          words = text.text().split(/\\s+/).reverse(),\n          word,\n          line = [],\n          lineNumber = 0,\n          lineHeight = 1.1, // ems\n          y = text.attr(\"y\"),\n          dy = parseFloat(text.attr(\"dy\")),\n          tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n      while (word = words.pop()) {\n        line.push(word);\n        tspan.text(line.join(\" \"));\n        if (tspan.node().getComputedTextLength() > width) {\n          line.pop();\n          tspan.text(line.join(\" \"));\n          line = [word];\n          tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n        }\n      }\n    });\n  };\n\n  var initLabel = function (cssClass, config, container) {\n    var labelKey = utils.hyphenToCamelCase(cssClass);\n    var label = container\n        .selectAll(`.${cssClass}`)\n        .data([config[labelKey]], function(d) {\n          return d.text ? d.text.length : 0;\n        });\n    return label;\n  };\n\n  var enterLabelCurr = curry( function (rotate, anchor, cssClass, config, container, label) {\n    label.enter()\n        .append(\"text\")\n        .classed(cssClass, true)\n        .attr(\"transform\", `rotate(${rotate})`)\n        .attr(\"dy\", \"1em\")\n        .style(\"text-anchor\", anchor)\n        .text(function(d) {return d.text;});\n    return label;\n  });\n\n  var updateXAxisLabelCurr = curry( function (cssClass, config, container, label) {\n    container.selectAll(`.${cssClass}`)\n        .attr(\"x\", utils.getChartWidth(config))\n        .attr(\"y\", config.margin.bottom / 2);\n    return label;\n  });\n\n  var updateYAxisLabelCurr = curry( function (cssClass, config, container, label) {\n    container.selectAll(`.${cssClass}`)\n        .attr(\"y\", -Math.round(config.margin.left / 2 + config.margin.left / 4, 0) );\n    return label;\n  });\n\n  var updateTitleLabelCurr = curry( function (cssClass, config, container, label) {\n    var marginLeft = config.titleLabel.margin ? config.titleLabel.margin.left : config.margin.left - config.xOffset;\n    container.selectAll(`.${cssClass}`)\n        .attr(\"x\", marginLeft)\n        .attr(\"y\", 0);\n    return label;\n  });\n\n  var exitLabelCurr = curry( function (config, container, label) {\n    label.exit().remove();\n    return label;\n  });\n\n  function setXaxisLabel (container, config) {\n    if (!config.xAxisLabel) { return container; }\n    var textAnchor = config.xAxisLabel.textAnchor || 'end';\n    var cssClass = 'x-axis-label';\n    var label = initLabel(cssClass, config, container);\n    var enterLabel = enterLabelCurr('0', textAnchor, cssClass, config, container);\n    var updateLabel = updateXAxisLabelCurr(cssClass, config, container);\n    var exitLabel = exitLabelCurr(config, container);\n    var setLabel = compose(exitLabel, updateLabel, enterLabel);\n    return setLabel(label);\n  }\n\n  function setYaxisLabel (container, config) {\n    if (!config.yAxisLabel) { return container; }\n    var textAnchor = config.yAxisLabel.textAnchor || 'end';\n    var cssClass = 'y-axis-label';\n    var label = initLabel(cssClass, config, container);\n    var enterLabel = enterLabelCurr('-90', textAnchor, cssClass, config, container);\n    var updateLabel = updateYAxisLabelCurr(cssClass, config, container);\n    var exitLabel = exitLabelCurr(config, container);\n    var setLabel = compose(exitLabel, updateLabel, enterLabel);\n    return setLabel(label);\n  }\n\n  function setTitleLabel (container, config) {\n    if (!config.titleLabel) { return container; }\n    var textAnchor = config.titleLabel.textAnchor || 'start';\n    var cssClass = 'title-label';\n    var label = initLabel(cssClass, config, container);\n    var enterLabel = enterLabelCurr('0', textAnchor, cssClass, config, container);\n    var updateLabel = updateTitleLabelCurr(cssClass, config, container);\n    var exitLabel = exitLabelCurr(config, container);\n    var setLabel = compose(exitLabel, updateLabel, enterLabel);\n    return setLabel(label);\n  }\n\n  return {\n    wrapLabel: wrapLabel,\n    setYaxisLabel: setYaxisLabel,\n    setXaxisLabel: setXaxisLabel,\n    setTitleLabel: setTitleLabel,\n  };\n\n};\nnightcharts.barComponentHelpers = function() {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n\n  function getBarWidth(config, data, xScale, _spaceInBetween) {\n    var barW;\n    if (config.barWidth) {\n      barW = config.barWidth;\n    } else if (config.xScaleType == 'ordinal') {\n      barW = xScale.rangeBand();\n    } else if (config.xScaleType == 'time') {\n      let chartW = utils.getChartWidth(config);\n      let xDomain = utils.getXDomain(config, data);\n      let spaceInBetween = _spaceInBetween || 0;\n      let originalChartWidth = chartW - config.xOffset;\n      if (data.length == 1) {\n        barW = originalChartWidth - spaceInBetween;\n      } else {\n        let timeSpan = utils.getTimespan(xDomain[0], xDomain[1]);\n        let timeUnit = config.timeUnit || Math.round(timeSpan / (data.length - 1));\n        let timeInstances = Math.round(timeSpan / timeUnit);\n        barW = Math.round( (originalChartWidth - (timeInstances + 1) * spaceInBetween) / (timeInstances + 1) );\n      }\n    } else {\n      throw new Error('getBarWidth only supports ordinal or time scales');\n    }\n    if (barW < 1) {\n      barW = 1;\n    }\n    return barW;\n  }\n\n  //TESTME\n  function getBarRange(config, data, xScale, barW, _spaceInBetween) {\n    var barRange;\n    if (config.xScaleType == 'ordinal') {\n      barRange = xScale.range();\n    } else if (config.xScaleType == 'time') {\n      let spaceInBetween = _spaceInBetween || 0;\n      if (data.length == 1) {\n        //TMP, FIX xScale(config.xAccessor(d)))\n        barRange = [Math.round(spaceInBetween / 2)];\n      } else {\n        barRange = data.map(function(d) {\n          return Math.floor(xScale(config.xAccessor(d))) - Math.round(barW/2);\n        });\n      }\n    } else {\n      throw new Error('getBarRange only supports ordinal or time scales');\n    }\n    return barRange;\n  }\n\n  return {\n    getBarWidth: getBarWidth,\n    getBarRange: getBarRange,\n  };\n\n};\nnightcharts.baseSvg = function(_config) {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var helpers = utils.extend(d3.nightcharts.domLabelHelpers(), d3.nightcharts.domHelpers());\n  var config = utils.extend(d3.nightcharts.config, _config, {use_clone: true});\n\n  function exports(_selection) {\n    var data = _selection.datum();\n    if (!utils.checkForData(config, data)) {return;}\n\n    var svg = this.selectAll('svg').data([data]);\n\n    svg.enter().append('svg')\n        .classed('chart', true);\n\n    if (config.useViewBox) {\n      svg.attr({\n        viewBox: `0 0 ${config.width} ${config.height}`,\n        preserveAspectRatio: 'xMinYMin meet'\n      });\n    } else {\n      svg.attr({width: config.width, height: config.height});\n    }\n\n    if (config.titleLabel) {\n      helpers.setTitleLabel(svg, config);\n    }\n\n    var wrapper = svg.selectAll('g.wrapper').data([data]);\n\n    wrapper.enter().append('g')\n        .classed('wrapper', true)\n        .attr('transform', `translate(${config.margin.left}, ${config.margin.top})`);\n\n    var container = wrapper.selectAll(\"g.container\").data([data]);\n\n    container.enter().append(\"g\")\n        .classed(\"container\", true);\n\n  }\n\n  utils.getset(exports, config);\n\n  exports.config = config;\n\n  return exports;\n\n};\n//TODO: all this might not be necessary, move into brushComponent\n\nnightcharts.brushComponentHelpers = function() {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n\n  function updateSlider(x, y) {\n    var gStick = this.select(\".g-stick\");\n    var stick = this.select(\".stick\");\n    var lolly = this.select(\".lolly\");\n    gStick.style(\"visibility\", \"visible\");\n    gStick.attr('transform', 'translate(' + x + ',0)');\n    stick.attr('y1', y);\n    lolly.attr('transform', 'translate(0,' + y + ')');\n  }\n\n  function hideSliderStick() {\n    this.select(\".g-stick\").style(\"visibility\", \"hidden\");\n  }\n\n  function setSlider(container, data, config, brush, xScale, yScale, dispatch) {\n    var gSlider;\n    var handle;\n    var gStick;\n    var stick;\n    var lolly;\n    var chartH = utils.getChartHeight(config);\n    if (brush && config.xScaleType == 'ordinal') {\n      throw new Error('TODO: slider does not support ordinal scales.');\n    }\n    if (brush) {\n      gSlider = container\n          .selectAll(\".slider\")\n          .data([[]]);\n      gSlider.enter()\n        .append(\"g\")\n          .attr(\"class\", \"slider\")\n          .call(brush)\n          .call(brush.event);\n    gSlider.selectAll(\".extent,.resize\")\n        .remove();\n      gSlider.select(\".background\")\n          .attr(\"height\", chartH + config.yOffset + (config.brush.heightBuffer || 0) );\n      gStick = gSlider\n          .selectAll(\".g-stick\")\n          .data([[]]);\n      gStick.enter()\n        .append(\"g\")\n          .attr(\"class\", \"g-stick\");\n      stick = gStick\n          .selectAll(\".stick\")\n          .data([[]]);\n      stick.enter()\n        .append(\"line\")\n          .attr(\"class\", \"stick\")\n          .attr('y1', 0)\n          .attr('y2', chartH + config.yOffset);\n      lolly = gStick\n          .selectAll(\".lolly\")\n          .data([[]]);\n      lolly.enter()\n        .append(\"circle\")\n          .attr(\"class\", \"lolly\")\n          .attr(\"r\", config.brush.lollyRadius || 5);\n      handle = gSlider\n          .selectAll(\".handle\")\n          .data([[]]);\n      handle.enter()\n        .append(\"circle\")\n          .attr(\"class\", \"handle\")\n          .attr(\"transform\", \"translate(0,\" + (chartH + config.yOffset) + \")\")\n          .attr(\"r\", config.brush.handleRadius || 9);\n      // FIXME: this is soooooo dangerous!!!\n      var d;\n      if (config.brush.extent) {\n        d = data[0].filter(function(d){\n          return config.xAccessor(d) === config.brush.extent[0];\n        })[0];\n      } else {\n        d = data[0][data[0].length - 1];\n      }\n      var x = xScale(brush.extent()[0]);\n      var y = yScale(config.yAccessor(d));\n      gSlider\n          .call(brush.extent(config.brush.extent || [config.xAccessor(d), config.xAccessor(d)]))\n          .call(brush.event);\n      updateSlider.call(container, x, y);\n      dispatch.filter(brush.extent()[0], config.id);\n    }\n  }\n\n  //FIXME: possible bug when no snap needed!\n  function _snapToDataPoints(brush, xScale, config, options) {\n    var callbacks = options.callbacks;\n    var extent = brush.extent();\n    var data = options.data.reduce(function(prev, current) {\n      return prev.concat(current.map(config.xAccessor));\n    }, []);\n    var newExtent;\n    var value;\n    if (brush.empty()) {\n      value = utils.snapToValue(data, extent[0]);\n      newExtent = [\n        value,\n        value,\n      ];\n    } else {\n      newExtent = [\n        utils.snapToValue(data, extent[0]),\n        utils.snapToValue(data, extent[1]),\n      ];\n    }\n    var handle = d3.select(this).select('.handle');\n    if (handle[0][0]) {\n      brush.extent(newExtent);\n      handle.transition()\n          .duration(config.duration).attr(\"cx\", xScale(newExtent[0]))\n          .each(\"end\", function(d) {\n            if (callbacks && callbacks.snapend) {\n              callbacks.snapend.call(this, brush);\n            }\n          });\n    } else {\n      d3.select(this).transition().duration(config.duration)\n        .call(brush.extent(newExtent))\n        .call(brush.event);\n    }\n  }\n\n  function snapToBins(brush, bins, config) {\n    var extent = brush.extent();\n    var newExtent = [\n      utils.snapToValue(bins, extent[0]),\n      utils.snapToValue(bins, extent[1]),\n    ];\n    d3.select(this).transition().duration(config.duration)\n        .call(brush.extent(newExtent))\n        .call(brush.event);\n  }\n\n  function _setHandle(brush, xScale) {\n    var value = brush.extent()[0];\n    var handle = d3.select(this).select('.handle');\n    if (!handle[0][0]) {return;}\n    if (d3.event.sourceEvent) { // not a programmatic event\n      value = xScale.invert(d3.mouse(this)[0]);\n      brush.extent([value, value]);\n    }\n    handle.attr(\"cx\", xScale(value));\n  }\n\n  function initializeBrush(extent, options, xScale, dispatch, config) {\n    var callbacks = options.callbacks;\n    var bins = options.bins;\n    var brush = d3.svg.brush()\n        .x(xScale)\n        .on(\"brush\", function() {\n          _setHandle.call(this, brush, xScale);\n          // internal\n          if (callbacks && callbacks.brush) {\n            callbacks.brush.call(this, brush);\n          }\n          // external\n          dispatch.brush.call(this, brush, xScale, config.id);\n        })\n        .on(\"brushend\", function() {\n          if (!d3.event.sourceEvent) return; // only transition after input\n          if (config.brush.snapToAxisTicks) {\n            snapToBins.call(this, brush, bins, config);\n          }\n          if (config.brush.snapToDataPoints) {\n            _snapToDataPoints.call(this, brush, xScale, config, options);\n          }\n          // internal\n          if (callbacks && callbacks.brushend) {\n            callbacks.brushend.call(this, brush);\n          }\n          // external\n          dispatch.brushend.call(this, brush, xScale, config.id, bins);\n        });\n    if (extent) {\n      brush.extent(extent);\n    }\n    return brush;\n  }\n\n  return {\n    hideSliderStick: hideSliderStick,\n    updateSlider: updateSlider,\n    setSlider: setSlider,\n    snapToBins: snapToBins,\n    initializeBrush: initializeBrush,\n  };\n\n};\nnightcharts.brushComponent = function(_config) {\n  'use strict';\n  \n  var utils = d3.nightcharts.utils();\n  var domHelpers = utils.extend(d3.nightcharts.domLabelHelpers(), d3.nightcharts.domHelpers());\n  var helpers = d3.nightcharts.brushComponentHelpers();\n  var config = utils.setConfig(_config);\n\n  var dispatch = d3.nightcharts.brushComponent.properties.dispatch;\n\n  // storing the brush extent state.\n  var brushExtent = void 0;\n\n\n  function exports(_selection) {\n\n    var _data = _selection.datum();\n    var bushInitialized;\n\n    if (!utils.checkForData(config, _data)) {return;}\n    if (!config.brush) {return;}\n\n    function setBrush(container, data, config, brush) {\n      var id = 'brush-pattern';\n      var gBrush;\n      // copied from: http://square.github.io/crossfilter/\n      function resizePath(d) {\n        var e = +(d == \"e\"),\n            x = e ? 1 : -1,\n            y = (config.height - config.margin.bottom) / 3;\n        return \"M\" + (0.5 * x) + \",\" + y +\n          \"A6,6 0 0 \" + e + \" \" + (6.5 * x) + \",\" + (y + 6) +\n          \"V\" + (2 * y - 6) +\n          \"A6,6 0 0 \" + e + \" \" + (0.5 * x) + \",\" + (2 * y) +\n          \"Z\" +\n          \"M\" + (2.5 * x) + \",\" + (y + 8) +\n          \"V\" + (2 * y - 8) +\n          \"M\" + (4.5 * x) + \",\" + (y + 8) +\n          \"V\" + (2 * y - 8);\n      }\n      if (brush) {\n        gBrush = container\n            .selectAll(\".brush\")\n            .data([[]]);\n        gBrush.enter()\n          .append(\"g\")\n            .attr(\"class\", \"brush\")\n            .call(brush)\n            .call(brush.event);\n\n        gBrush.call(brush);\n\n        gBrush.selectAll(\"rect\")\n            .attr(\"y\", -config.margin.top)\n            .attr(\"height\", config.height - config.margin.bottom);\n        \n        if (!bushInitialized) {\n          bushInitialized = true;\n          gBrush.selectAll(\".resize\").append(\"path\").attr(\"d\", resizePath);\n        }\n      }\n      return gBrush;\n    }\n\n    function onSnapEnd(brush) {\n      if (!config.brush && !config.brush.slider) {return;}\n      var x = xScale(brush.extent()[0]);\n      // TODO: well... nothing easier?\n      var d = _data\n        .reduce(function(prev, current) {\n          return prev.concat(current);\n        }, [])\n        .filter(function(d) {\n          if (config.xAccessor(d) instanceof Date) {\n            return config.xAccessor(d).getTime() === brush.extent()[0].getTime();\n          }\n          return config.xAccessor(d) === brush.extent()[0];\n        })[0];\n      var y = yScale(config.yAccessor(d));\n      dispatch.filter(brush.extent()[0], config.id);\n      helpers.updateSlider.call(_selection, x, y);\n    }\n\n    function onBrushend(brush) {\n      brushExtent = brush.extent();\n      dispatch.filter(brushExtent, config.id);\n    }\n\n    function onBrush(brush) {\n      helpers.hideSliderStick.call(_selection);\n    }\n\n    var svgBasics = utils.getSvgBasics(config, _data);\n    var [chartW, chartH, invertOrientation, xRange, yRange, xDomain, yDomain, xScale, yScale] = svgBasics;\n\n    var xMin = utils.min(_data, config.xAccessor);\n    var xMax = utils.max(_data, config.xAccessor);\n\n    var brushOptions = {data: _data, callbacks: {}, bins: config.bins};\n    var extent;\n    var brush;\n    var slider;\n\n    if (config.brush.slider) {\n      brushOptions.callbacks.snapend = onSnapEnd;\n      brushOptions.callbacks.brush = onBrush;\n      extent = brushExtent ? brushExtent : config.brush.extent ? config.brush.extent : [xMax, xMax];\n      slider = helpers.initializeBrush.call(this, extent, brushOptions, xScale, dispatch, config);\n      // Important, setting the shared brushSelection for related charts...\n      if (config.brushSelections && config.brushSelections[config.id]) {\n        config.brushSelections[config.id].brush = slider;\n        config.brushSelections[config.id].id = config.id;\n      }\n      if (config.xScaleType != 'time' && config.xScaleType != 'ordinal') {\n        xScale.clamp(true);\n      }\n      dispatch.sliderInitialized.call(this, slider, xScale, config.id);\n      brush = void 0;\n    } else {\n      brushOptions.callbacks.brushend = onBrushend;\n      if (brushExtent) {\n        extent = brushExtent;\n      } else if (config.brush.extent) {\n        extent = config.brush.extent === 'full' ? [xMin, xMax] : config.brush.extent;\n      } else {\n        null;\n      }\n      brush = helpers.initializeBrush.call(this, extent, brushOptions, xScale, dispatch, config);\n    }\n    var gBrush = setBrush(_selection, _data, config, brush);\n    var gSlider = helpers.setSlider.call(this, _selection, _data, config, slider, xScale, yScale, dispatch);\n\n    //dispatch.on('filter', function(extent, filter))\n\n    exports.properties.brush = brush;\n    Object.freeze(exports.properties);\n\n  }\n\n  utils.getset(exports, config);\n\n  //TODO: do we need this, as everything should already be exposed on exports after getset.\n  exports.config = config;\n\n  // These are `instance` properties\n  exports.properties = {};\n\n  return d3.rebind(exports, dispatch, 'on');\n\n};\n\n// These are `class` properties\n// TODO: would it work once moved on the instance?\nnightcharts.brushComponent.properties = {\n  dispatch: d3.dispatch('brush', 'brushend', 'filter', 'nativeEvent', 'sliderInitialized'),\n};\n\nObject.freeze(nightcharts.brushComponent.properties);\n\n\nnightcharts.clipComponent = function(_config) {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var config = utils.setConfig(_config);\n\n\n  function exports(_selection) {\n\n    var _data = _selection.datum();\n    var chartW = utils.getChartWidth(config);\n    var chartH = utils.getChartHeight(config);\n    var xDomain = utils.getXDomain(config, _data);\n    var xRange = config.invertOrientation ? [chartH, 0] : [0, chartW];\n    var xScale = utils.getXScale(config, xDomain, xRange, _data);\n\n    if (!utils.checkForData(config, _data)) {return;}\n\n    var clipId = utils.generateRandStr(9);\n\n    var selector = config.clipIdKey ? `.clip.${config.clipIdKey}` : '.clip.front';\n    var clip = _selection.selectAll(selector).data([clipId]);\n    \n    clip.enter()\n      .append(\"defs\")\n        .classed(\"clip\", true)\n        .classed(config.clipIdKey, config.clipIdKey !== undefined)\n        .classed('front', config.clipIdKey === undefined)\n      .append(\"clipPath\").attr(\"id\", function(d) {\n        return d;\n      })\n      .append(\"rect\");\n\n    clip.exit().remove();\n\n    var vOffset = config.clip.vOffset + config.yOffset;\n    _selection.selectAll(\".clip rect\")\n        .attr(\"x\", 0)\n        .attr(\"width\", chartW + config.xOffset + 2)\n        .attr(\"height\", chartH + vOffset)\n        .attr(\"transform\", \"translate(\" +\n         Math.floor(-config.xOffset / 2) + \",\" +\n         Math.floor(-vOffset / 2)  + \")\");\n\n    exports.properties.clipId = clipId;\n    Object.freeze(exports.properties);\n\n  }\n\n  utils.getset(exports, config);\n\n  exports.config = config;\n\n  // These are `instance` properties\n  exports.properties = {};\n\n  return exports;\n\n};\n//http://bl.ocks.org/nbremer/c0ffc07b23b1c556a66b\nnightcharts.tipComponent = function(_config) {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var barHelpers = d3.nightcharts.barComponentHelpers();\n  var config = utils.setConfig(_config);\n  var dispatch = d3.dispatch('rolloverShow', 'rolloverHide');\n\n  //Show the tooltip on the hovered over circle\n  function showTip(selection, config, yScale, xScale, d, i) {\n    var element = selection.selectAll(`.tip-${d.idx}`);\n    var args = {};\n    var lineLabel;\n\n    element.classed('active', true);\n\n    if (config.graphType == 'line') {\n      lineLabel = selection.datum()[+d.idx.split('-')[0]].label;\n      let circle = selection.select('.nc-tip-rollover-circle-wrapper').append('circle')\n        .classed('tip-rollover-circle', true)\n        .attr({\n          'cx': xScale(config.xAccessor(d)),\n          'cy': yScale(config.yAccessor(d)),\n          'r': config.tip.rolloverCircleR ? config.tip.rolloverCircleR : 6\n        });\n    }\n\n    if (utils.isObject(d)) {\n      //FIXME: angular customizations!!!\n      args = utils.extend(d.toJSON ? d.toJSON() : d, {lineLabel: lineLabel, element: element});\n    } else {\n      args.x = config.xAccessor(d);\n      args.y = config.yAccessor(d);\n      args.lineLabel = lineLabel;\n      args.element = element;\n    }\n\n    dispatch.rolloverShow(args);\n  }\n  \n  //Hide the tooltip when the mouse moves away\n  function removeTip(selection, d, i) {\n    selection.selectAll('.tip-rollover-circle').remove();\n    var element = selection.selectAll(`.tip-${d.idx}`);\n\n    element.classed('active', false);\n\n    dispatch.rolloverHide();\n  }\n\n  function exports(_selection) {\n\n    // Flatten the data and set an idx property on each data point.\n    var _data = utils.flattenArray(_selection.datum());\n    var svgBasics = utils.getSvgBasics(config, _data);\n    var [chartW, chartH, invertOrientation, xRange, yRange, xDomain, yDomain, xScale, yScale] = svgBasics;\n\n    if (!utils.checkForData(config, _data)) {\n      if (config.devMove) {\n        console.warn('No data for tooltip.')\n      }\n      return;\n    }\n\n    var voronoiGroup = _selection.select('.nc-tip-voronoi-wrapper');\n    var rectGroup = _selection.select('.nc-tip-rect-wrapper');\n\n    var curriedShowTip = utils.curry(showTip);\n    var partAppliedShowTip = curriedShowTip(_selection, config, yScale, xScale);\n    var curriedRemoveTip = utils.curry(removeTip);\n    var partAppliedRemoveTip = curriedRemoveTip(_selection);\n\n    var rolloverCircleWrapper = _selection.select('.nc-tip-rollover-circle-wrapper')[0][0] ?\n      _selection.select('.nc-tip-rollover-circle-wrapper') : _selection.append('g')\n      .attr('class', 'nc-tip-rollover-circle-wrapper');\n\n    var brushComponentDispatch = d3.nightcharts.brushComponent.properties.dispatch;\n\n    if (config.tip && config.tip.rollover == 'voronoi') {\n      //Initiate the voronoi function\n      //Use the same variables of the data in the .x and .y as used in the cx and cy of the circle call\n      //The clip extent will make the boundaries end nicely along the chart area instead of splitting up the entire SVG\n      //(if you do not do this it would mean that you already see a tooltip when your mouse is still in the axis area, which is confusing)\n      let voronoi = d3.geom.voronoi()\n          .x(function(d) { \n            return xScale(config.xAccessor(d)); })\n          .y(function(d) { return yScale(config.yAccessor(d)); })\n          .clipExtent([[0, 0], [chartW, chartH]]);\n    \n      //If not existent, initiate a group element to place the voronoi diagram in.\n      voronoiGroup = voronoiGroup[0][0] ? voronoiGroup : _selection.append('g')\n        .attr('class', 'nc-tip-voronoi-wrapper');\n\n      let setVoronoiPath = function(d, i) {\n        //TODO: FIXME\n        if (!d || d.length === 0) {return;}\n        return 'M' + d.join('L') + 'Z';\n      };\n\n      let setVoronoiDatum = function(d, i) {\n        //TODO: FIXME\n        if (!d) {return;}\n        return d.point;\n      };\n      \n      let voronois = voronoiGroup.selectAll('path')\n        .data(voronoi(_data)); //Use vononoi() with your dataset inside\n      voronois.enter().append('path')\n        .attr('d', setVoronoiPath)\n        .datum(setVoronoiDatum)\n        //Give each cell a unique class where the unique part corresponds to the circle classes\n        .attr('class', function(d,i) { return 'voronoi ' + i; })\n        .style('stroke', config.devMode ? '#8A203E' : 'none')\n        .style('opacity', 0.1)\n        .style('fill', 'none')\n        .style('pointer-events', 'all')\n        .on('mouseover', partAppliedShowTip)\n        .on('mouseout', partAppliedRemoveTip);\n      voronois.exit().remove();\n\n      brushComponentDispatch.on(`brush.${config.id}tip`, function(brush, masterXScale, id) {\n        if (config.listenToBrushEvents && id !== config.id) {\n          let xDomain = brush.empty() ? masterXScale.domain() : brush.extent();\n          xScale = utils.getXScale(config, xDomain, xRange, _data);\n          partAppliedShowTip = curriedShowTip(_selection, config, yScale, xScale);\n\n          voronois = voronoiGroup.selectAll('path')\n            .data(voronoi(_data))\n            .attr('d', setVoronoiPath)\n            .datum(setVoronoiDatum)\n            .on('mouseover', partAppliedShowTip);\n        }\n      });\n\n    } else if (config.tip && config.tip.rollover == 'rect') {\n      //These are good for barcharts, single lines, grouped tips on multiple lines.\n      rectGroup = rectGroup[0][0] ? rectGroup : _selection.append('g')\n        .attr('class', 'nc-tip-rect-wrapper');\n\n      let invertOrientation = config.invertOrientation;\n      let chartH = utils.getChartHeight(config);\n      let xDomain = utils.getXDomain(config, _data);\n      let xRange = invertOrientation ? [chartH, 0] : [0, chartW];\n      let xScale = utils.getXScale(config, xDomain, xRange, _data);\n\n      if (config.graphType == 'bar' && config.xScaleType == 'time') {\n        let adjustedXDomain = utils.adjustDomainForBarOnTimescale(xDomain, config, _data);\n        let adjustedXScale = utils.getXScale(config, adjustedXDomain, xRange, _data);\n        partAppliedShowTip = curriedShowTip(_selection, config, yScale, adjustedXScale);\n      } else {\n        partAppliedShowTip = curriedShowTip(_selection, config, yScale, xScale);\n      }\n\n      let barW = barHelpers.getBarWidth(config, _data, xScale);\n      let barRange = barHelpers.getBarRange(config, _data, xScale, barW);\n\n      let setRectAttr = function(invertOrientation, chartH, barRange, barW) {\n        return {\n          x: function(d, i) {\n            if (invertOrientation) {\n              return 0;\n            }\n            return barRange[i];\n          },\n          y: function(d, i) {\n            if (invertOrientation) {\n              return barRange[i];\n            }\n            return 0;\n          },\n          width: function(d, i) {\n            if (invertOrientation) {\n              chartH;\n            }\n            return barW;\n          },\n          height: function(d, i) {\n            if (invertOrientation) {\n              return barW;\n            }\n            return chartH;\n          }\n        };\n      };\n\n      let curriedSetRectAttr = utils.curry(setRectAttr);\n      let partAppliedSetRectAttr = curriedSetRectAttr(invertOrientation, chartH);\n\n      let rects = rectGroup.selectAll('rect')\n        .data(_data);\n      rects.enter()\n        .append(\"rect\")\n        .attr(partAppliedSetRectAttr(barRange, barW));\n      rects.exit().remove();\n\n      rects.style('stroke', config.devMode ? '#8A203E' : 'none')\n          .style('opacity', 0.1)\n          .style('fill', config.devMode ? 'pink' : 'none')\n          .style('pointer-events', 'all')\n          .on('mouseover', partAppliedShowTip)\n          .on('mouseout', partAppliedRemoveTip);\n\n      brushComponentDispatch.on(`brush.${config.id}tip`, function(brush, masterXScale, id) {\n        if (config.listenToBrushEvents && id !== config.id) {\n\n          let xDomain = brush.empty() ? masterXScale.domain() : brush.extent();\n          let xScale = utils.getXScale(config, xDomain, xRange, _data);\n\n          if (config.graphType == 'bar' && config.xScaleType == 'time') {\n            let adjustedXDomain = utils.adjustDomainForBarOnTimescale(xDomain, config, _data);\n            let adjustedXScale = utils.getXScale(config, adjustedXDomain, xRange, _data);\n            partAppliedShowTip = curriedShowTip(_selection, config, yScale, adjustedXScale);\n          } else {\n            partAppliedShowTip = curriedShowTip(_selection, config, yScale, xScale);\n          }\n\n          let barW = barHelpers.getBarWidth(config, _data, xScale);\n          let barRange = barHelpers.getBarRange(config, _data, xScale, barW);\n\n          rects.attr(partAppliedSetRectAttr(barRange, barW))\n            .on('mouseover', partAppliedShowTip);\n        }\n      });\n\n    }\n\n  }\n\n  utils.getset(exports, config);\n\n  exports.config = config;\n\n  return d3.rebind(exports, dispatch, 'on');\n\n};\nnightcharts.barComponent = function(_config) {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var helpers = utils.extend(d3.nightcharts.domLabelHelpers(), d3.nightcharts.domHelpers());\n  var barHelpers = d3.nightcharts.barComponentHelpers();\n  var config = utils.setConfig(_config, 'barConfig');\n  var dispatch = d3.dispatch('customHover', 'barComponentEnterTransitionEnd');\n\n\n  function exports(_selection) {\n\n    var _data = _selection.datum();\n\n    if (!utils.checkForData(config, _data)) {return;}\n\n    //TODO: stacked bars not yet supported.\n    function drawBars(bars, classAttr) {\n      bars.enter().append('rect')\n          .classed('diverging', function(d) {\n            if (config.divergingGraph) return true;\n          })\n          .attr({\n            x: function(d, i) {\n              return invertOrientation ? 0 : chartW;\n            },\n            y: function(d, i) {\n              if (invertOrientation && config.slideBars) {\n                return 0;\n              } else if (invertOrientation) {\n                return barRange[i];\n              } else {\n                return yScale(config.yAccessor(d));\n              }\n            },\n            rx: config.rx,\n            ry: config.ry,\n            width: function(d, i) {\n              return invertOrientation ? yScale(config.yAccessor(d)) : barW;\n            },\n            height: function(d, i) {\n              return invertOrientation ? barW : chartH - yScale(config.yAccessor(d));\n            }\n          })\n          .on('mouseover', dispatch.customHover);\n  \n      // For diverging bars see: http://bl.ocks.org/mbostock/2368837\n      bars.transition()\n      \n          .duration(config.duration)\n          // need some end transition notification?\n          //.call(utils.endall, _data, dispatch.barComponentEnterTransitionEnd)\n          .ease(config.ease)\n          .attr({\n              'class': function (d, i) {\n                var custom = '';\n                if (config.barClassSetter) {\n                  custom = config.barClassSetter.call(_data, d);\n                }\n                return classAttr + ' ' + classAttr + i + ' tip-0-' + i + ' ' + custom;\n              },\n              x: function(d, i) {\n                if (invertOrientation) {\n                  return yScale(Math.min(barOrigin, config.yAccessor(d)));// + yOffset;\n                }\n                return barRange[i];\n              },\n              y: function(d, i) {\n                if (invertOrientation) {\n                  return barRange[i];\n                }\n                return yScale(Math.max(barOrigin, config.yAccessor(d))) - 0;\n              },\n              width: function(d, i) {\n                if (invertOrientation) {\n                  return Math.abs(yScale(config.yAccessor(d)) - yScale(barOrigin));\n                }\n                return barW;\n              },\n              height: function(d, i) {\n                if (invertOrientation) {\n                  return barW;\n                }\n                return Math.abs(yScale(config.yAccessor(d)) - yScale(barOrigin));\n              }\n          });\n  \n      bars.exit().transition()\n          .duration(config.duration)\n          .ease(config.ease)\n          .style({opacity: 0})\n        .remove();\n    }\n\n    var yOffset = config.yOffset;\n    var xOffset = config.xOffset;\n    var chartW = utils.getChartWidth(config);\n    var chartH = utils.getChartHeight(config);\n    var invertOrientation = config.invertOrientation;\n    var xRange = utils.getXRange(config);\n    var yRange = utils.getYRange(config);\n    var xDomain = utils.getXDomain(config, _data);\n    var yDomain = utils.getYDomain(config, _data);\n    var barOrigin = config.divergingGraph ? 0 : yDomain[0];\n    var xScale = utils.getXScale(config, xDomain, xRange, _data);\n    var yScale = d3.scale[config.yScaleType]().domain(yDomain).range(yRange);\n\n    if (config.xScaleType == 'time') {\n      let adjustedXDomain = utils.adjustDomainForBarOnTimescale(xDomain, config, _data);\n      xScale.domain(adjustedXDomain);\n    }\n\n    var clipId = config.listenToBrushEvents ? _data.clipId : void 0;\n    var container = helpers.setChartGroupsContainer(_selection, _data, clipId);\n    var bars = _selection.select('.chart-groups')\n        .selectAll('.bar')\n        .data(_data, config.xAccessor);\n    // TMP, TODO better implementation\n    var spaceInBetween = Math.max(Math.round(chartW * 0.2 / _data.length), 1);\n    var barW = barHelpers.getBarWidth(config, _data, xScale, spaceInBetween);\n    var barRange = barHelpers.getBarRange(config, _data, xScale, barW, spaceInBetween);\n\n    if (config.barBackground) {\n      let backData = _data.map(function(_d) {\n        var d = utils.clone(_d);\n        var yKey = d[config.yAccessor(d)];\n        if (yKey) {\n          d[yKey] = yDomain[1];\n        } else {\n          d[1] = yDomain[1];\n        }\n        return d;\n      });\n      let backs = _selection.select('.chart-groups')\n        .selectAll('.bar-back')\n        .data(backData);\n      drawBars(backs, 'bar-back');\n    }\n\n    drawBars(bars, 'bar');\n\n    _selection.selectAll('.bar').each(function(d) {\n      d3.select(this).classed('negative', function(d) {\n        if (!config.divergingGraph) return false;\n        if (Math.min(barOrigin, config.yAccessor(d)) < 0) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n    });\n\n    var xMarkers = helpers.setXMarkers(container, config,  _data);\n    var yMarkers = helpers.setYMarkers(container, config,  _data);\n  }\n\n  utils.getset(exports, config);\n\n  exports.config = config;\n\n  return d3.rebind(exports, dispatch, 'on');\n\n};\nd3.nightcharts.histoBarComponent = function(_config) {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var helpers = utils.extend(d3.nightcharts.domLabelHelpers(), d3.nightcharts.domHelpers());\n  var config = utils.setConfig(_config, 'histoBarConfig');\n  var curry = utils.curry;\n\n  var dispatch = d3.nightcharts.histoBarComponent.properties.dispatch;\n\n\n  var getXRange = function() {\n    return [0, utils.getChartWidth(config)];\n  };\n\n  var histogram = {\n    // If log scale min value cannot be 0!\n    getYValue: curry(function(config, value) {\n      if (config.yScaleType == 'log' && value === 0) {\n        return 1;\n      } else {\n        return value;\n      }\n    }),\n    calculateBins: function(n) {\n      var dataWidth;\n      if (config.roundBins) {\n        dataWidth = Math.round((Math.abs(config.xDomain[0]) + Math.abs(config.xDomain[1])) / n, 0);\n      } else {\n        dataWidth = (Math.abs(config.xDomain[0]) + Math.abs(config.xDomain[1])) / n;\n      }\n      return d3.range(config.xDomain[0], config.xDomain[1] + dataWidth, dataWidth);\n    },\n  };\n\n  function exports(_selection) {\n    _selection.each(function(_data) {\n      if (!_data) { return; }\n      if (!config.xDomain) {\n        throw new Error('histoBarComponent needs the xDomain property to be set in advance.');\n      }\n\n      var data;\n      var extent;\n      config.bins = Array.isArray(config.bins) ? config.bins : histogram.calculateBins(config.bins);\n      var bars;\n      var getYValue = histogram.getYValue(config);\n\n      data = config.dataTransform(d3.layout.histogram()\n          .bins(config.bins)\n          .value(config.xAccessor)(_data));\n\n      var yOffset = config.yOffset, xOffset = config.xOffset;\n      var chartW = utils.getChartWidth(config);\n      var chartH = utils.getChartHeight(config);\n      config.xTickValues = config.axisMaxTxtDensity.width ? utils.reduceAxisDensity(config, config.bins) : config.bins;\n\n      var brushOptions = {data: _data};\n      var yOffset = config.yOffset, xOffset = config.xOffset;\n      var chartW = utils.getChartWidth(config);\n      var chartH = utils.getChartHeight(config);\n      \n      var xScale = d3.scale.linear().domain(config.xDomain).range(getXRange()).clamp(true);\n\n      var yDomain = config.yDomain || [getYValue(0), d3.max(data, function(d) { return d.y; })];\n      config.yDomain = yDomain;\n      var yRange = [chartH, 0];\n      var yScale = d3.scale[config.yScaleType]().domain(yDomain).range(yRange);\n\n      if (!utils.validateDimensions(config)) { return; }\n\n      // SVG scaffolding\n      if (config.width === 0 || config.height === 0) {\n        if (config.devMode) { console.warn(\"width or height is zero!\"); }\n        return;\n      }\n      var clipId = _data.clipId;\n      //var clipIdBack = _data.clipIdBack;\n      //var backContainer = helpers.setChartGroupsContainer(_selection, _data, clipIdBack, 'background');\n      var container = helpers\n        .setChartGroupsContainer(_selection, _data, clipId, config.containerCssClass);\n      dispatch.containerReady.call(container, data, config);\n      \n      // TODO: this, in case of many charts interacting, can get called many times.\n      // Id does not seem to create problems, but test for performance issues!\n      var drawBars = function(container, data, cssClass) {\n        var bars;\n        bars = container\n            .selectAll('.' + cssClass)\n            .data(data);\n\n        bars.enter().append('g')\n            .attr('class', `bar ${cssClass}`)\n            .attr('transform', function(d) {\n              return 'translate(' + xScale(d.x) + ',' + yScale(getYValue(d.y)) + ')';\n            });\n\n        bars.exit().remove();\n\n        bars.each(function(d) {\n          var barTxt;\n          var barRect;\n          var root = d3.select(this);\n\n          barRect = root\n              .selectAll('.bar-rect')\n              .data([d]);\n          barRect.enter().append('rect')\n              .classed('bar-rect', true)\n              .attr('x', 1);\n          barRect.exit().remove();\n\n          root.selectAll('.bar-rect')\n            .attr('class', function(d) {\n              var c = 'bar-rect ';\n              if (config.barClassSetter) {\n                c += config.barClassSetter.call(this, d);\n              }\n              return c;\n            });\n\n          if (cssClass == 'foreground' && config.histShowTxt) {\n            barTxt = d3.select(this)\n                .selectAll('.bar-txt')\n                .data([d]);\n            barTxt.enter().append('text')\n                .attr('class', 'bar-txt')\n                .attr('dy', '.75em')\n                .attr('y', 6)\n                .attr('text-anchor', 'middle');\n            barTxt.exit().remove();\n          }\n        });\n        return bars;\n      };\n\n      var foregroundBars = drawBars(container, data, config.containerCssClass);\n      [container].forEach(function(container) {\n        container.selectAll('.bar')\n            .transition()\n            .duration(config.duration)\n            .ease(config.ease)\n            .attr('transform', function(d) {\n              return 'translate(' + xScale(d.x) + ',' + yScale(getYValue(d.y)) + ')';\n            });\n\n        container.selectAll('.bar-rect')\n            .attr('width', xScale(config.xDomain[0] + data[0].dx) - 1)\n            .attr('height', function(d) {\n              return chartH - yScale(getYValue(d.y)); });\n\n        container.selectAll('.bar-txt')\n            .attr('x', xScale(config.xDomain[0] + data[0].dx) / 2)\n            .text(function(d) { return config.histFormatCount(getYValue(d.y)); });\n      });\n\n      var xMarkers = helpers.setXMarkers(container, config);\n\n    });\n  }\n\n  utils.getset(exports, config);\n\n  exports.config = config;\n\n  \n  d3.rebind(exports, histogram, 'getYValue');\n  d3.rebind(exports, histogram, 'calculateBins');\n\n\n  return d3.rebind(exports, dispatch, 'on');\n  //return exports;\n\n};\n\nd3.nightcharts.histoBarComponent.properties = {\n  dispatch: d3.dispatch('containerReady', 'filter'),\n};\n\nObject.freeze(d3.nightcharts.histoBarComponent.properties);\nnightcharts.lineComponent = function(_config) {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var helpers = utils.extend(d3.nightcharts.domLabelHelpers(), d3.nightcharts.domHelpers());\n  var config = utils.setConfig(_config, 'lineConfig');\n  var dispatch = d3.dispatch('customHover', 'filter', 'nativeEvent');\n  \n  // do not return 0 with log scale\n  var getYValue = utils.curry(utils.getNormalilzedYValue)(config);\n\n  function exports(_selection) {\n\n    var _data = _selection.datum();\n\n    if (!utils.checkForData(config, _data)) {return;}\n\n    function updateLines(_d, i, duration) {\n      var setSymbol;\n      var symbol;\n      if (config.symbols) {\n        symbol = config.symbols[i];\n        setSymbol = helpers.setSymbol\n         .bind(this, 'dots', config, _d, yScale, xScale, config.xAccessor, symbol, duration, i);\n        setSymbol();\n      }\n\n      var groupedData = utils.regroupData(config, _d);\n      var setSymbol;\n      helpers.setLine\n       .call(this, config, groupedData, utils.getLineGenerator(xScale, yScale, config), null, duration);\n    };\n\n    var clipId = config.listenToBrushEvents ? _data.clipId : void 0;\n    var container = helpers.setChartGroupsContainer(_selection, _data, clipId);\n\n    var svgBasics = utils.getSvgBasics(config, _data);\n    var [chartW, chartH, invertOrientation, xRange, yRange, xDomain, yDomain, xScale, yScale] = svgBasics;\n\n    xScale.domain(xDomain).range([0, chartW]);\n\n    var yMin = utils.min(_data, config.area ? config.areaY0Accessor : config.yAccessor);\n    var yMax = utils.getYMax(_data, config);\n    if (yMin === undefined || yMax === undefined) {\n      helpers.setNoDataWarning(d3.select(this), config);\n      return; \n    }\n\n    if (config.binaryBaseline) {\n      let data = config.binaryBaseline.data;\n      let symbol = config.binaryBaseline.symbol;\n      helpers.setSymbol\n        .call(container[0][0], 'binary-squares', config, data, yScale, xScale, config.xAccessor, symbol);\n    }\n\n    var lines = container\n        .selectAll('.data-line')\n        .data(_data, function(d, i) {\n          // TODO: this data accessor could be dangerous, needs some testing.\n          if (d[config.classSetterOnData]) {\n            return d[config.classSetterOnData];\n          } else {\n            return i;\n          }\n        });\n\n    lines.enter().append('g')\n        .attr('class', function(d, i) {\n          if (d[config.classSetterOnData]) {\n            return `data-line line line${i} ${d[config.classSetterOnData]}`;\n          }\n          return 'data-line line line' + i;\n        });\n\n    lines.exit().transition()\n        .duration(config.duration)\n        .ease(config.ease)\n        .style({opacity: 0})\n      .remove();\n\n    lines.each(function(d, i) {\n      updateLines.call(this, d, i);\n    });\n\n    var xMarkers = helpers.setXMarkers(container, config, _data);\n    var yMarkers = helpers.setYMarkers(container, config, _data);\n\n    var brushComponentDispatch = d3.nightcharts.brushComponent.properties.dispatch;\n    brushComponentDispatch.on(`brush.${config.id}line`, function(brush, masterXScale, id) {\n      if (config.listenToBrushEvents && id !== config.id) {\n        xScale.domain(brush.empty() ? masterXScale.domain() : brush.extent());\n        lines.each(function(d, i) {\n          updateLines.call(this, d, i, 0);\n        });\n      } else {\n        //This is the native event, the one fired from the user interacting with the app!\n        //dispatch.nativeEvent(id);\n      }\n    });\n\n  }\n\n  utils.getset(exports, config);\n\n  return d3.rebind(exports, dispatch, 'on');\n\n};\nnightcharts.xAxisComponent = function(_config) {\n  'use strict';\n  \n  var utils = d3.nightcharts.utils();\n  var helpers = utils.extend(d3.nightcharts.domLabelHelpers(), d3.nightcharts.domHelpers());\n  var config = utils.setConfig(_config);\n\n\n  function exports(_selection) {\n\n    var _data = _selection.datum();\n\n    if (!utils.checkForData(config, _data)) {return;}\n    if (!config.xAxisShow) {return;}\n\n    var yOffset = config.yOffset; \n    var xOffset = config.xOffset;\n    var chartW = utils.getChartWidth(config);\n    var chartH = utils.getChartHeight(config);\n    var invertOrientation = config.invertOrientation;\n    var xRange = invertOrientation ? [chartH, 0] : [0, chartW];\n    var xDomain = utils.getXDomain(config, _data);\n    var xScale = utils.getXScale(config, xDomain, xRange, _data);\n\n    var xAxis = (config.xAxis || d3.svg.axis())\n        .scale(xScale)\n        .orient(config.xAxisOrient);\n\n    if (config.xTickValues) {\n      xAxis.tickValues(config.xTickValues)\n    }\n\n    var xAxisContainer = _selection\n        .selectAll(\".x-axis-group\")\n        .data(config.xAxisDataAccessor(_data));\n    xAxisContainer.enter()\n      .append(\"g\").classed(\"x-axis-group axis\", true);\n    xAxisContainer.exit().remove();\n\n\n    if (config.xAxisLabel) {\n      helpers.setXaxisLabel(xAxisContainer, config);\n    }\n\n    //  |\n    //  |\n    //  |\n    //\n    //\n    //  yOffset (pushes down the xAxis along the y line)\n    //  ____________\n    //\n    var tx = invertOrientation ? -yOffset : 0;\n    var ty = invertOrientation ? 0 : chartH + yOffset;\n    _selection.select('.x-axis-group.axis')\n        .transition()\n        .duration(config.duration)\n        .ease(config.ease)\n        .attr('transform', `translate(${tx}, ${ty})`)\n        .call(xAxis);\n\n\n    var brushComponentDispatch = d3.nightcharts.brushComponent.properties.dispatch;\n    brushComponentDispatch.on(`brush.${config.id}xaxis`, function(brush, masterXScale, id) {\n      if (config.listenToBrushEvents && id !== config.id) {\n        xScale.domain(brush.empty() ? masterXScale.domain() : brush.extent());\n        _selection.select('.x-axis-group.axis').call(xAxis);\n      } else {\n        //This is the native event, the one fired from the user interacting with the app!\n        //dispatch.nativeEvent(id);\n      }\n    });\n\n  }\n\n  utils.getset(exports, config);\n\n  exports.config = config;\n\n  return exports;\n\n};\nnightcharts.yAxisComponent = function(_config) {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var helpers = utils.extend(d3.nightcharts.domLabelHelpers(), d3.nightcharts.domHelpers());\n  var config = utils.setConfig(_config);\n\n\n  function exports(_selection) {\n\n    var _data = _selection.datum();\n\n    if (!utils.checkForData(config, _data)) {return;}\n    if (!config.yAxisShow) {return;}\n\n    var yOffset = config.yOffset; \n    var xOffset = config.xOffset;\n    var chartW = utils.getChartWidth(config);\n    var chartH = utils.getChartHeight(config);\n    var invertOrientation = config.invertOrientation;\n    var yRange = invertOrientation ? [0, chartW] : [chartH, 0];\n    var yDomain = utils.getYDomain(config, _data);\n    var yScale = d3.scale[config.yScaleType]().domain(yDomain).range(yRange);\n\n    var yAxis = (config.yAxis || d3.svg.axis())\n        .scale(yScale)\n        .orient(config.yAxisOrient);\n\n    var yAxisContainer = _selection\n        .selectAll(\".y-axis-group\")\n        .data([_data]);\n    yAxisContainer.enter()\n      .append(\"g\").classed(\"y-axis-group axis\", true);\n    yAxisContainer.exit().remove();\n\n    if (config.yAxisLabel) {\n      helpers.setYaxisLabel(yAxisContainer, config);\n    }\n\n    //  |\n    //  |\n    //  | xOffset (pushes left the yAxis along the x line)  _____________\n    //\n    var tx = invertOrientation ? 0 : -xOffset;\n    var ty = invertOrientation ? chartH : 0;\n    _selection.select('.y-axis-group.axis')\n        .transition()\n        .duration(config.duration)\n        .ease(config.ease)\n        .attr('transform', `translate(${tx}, ${ty})`)\n        .call(yAxis);\n\n  }\n\n  utils.getset(exports, config);\n\n  exports.config = config;\n\n  return exports;\n\n};\nnightcharts.bar = function() {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var helpers = utils.extend(d3.nightcharts.domLabelHelpers(), d3.nightcharts.domHelpers());\n  var config = utils.extend(d3.nightcharts.config, d3.nightcharts.barConfig, {use_clone: true});\n  config.graphType = 'bar';\n\n  function exports(_selection) {\n    var baseSvg = d3.nightcharts.baseSvg(config);\n    var xAxisComponent = d3.nightcharts.xAxisComponent(config);\n    var yAxisComponent = d3.nightcharts.yAxisComponent(config);\n    var barComponent = d3.nightcharts.barComponent(config);\n    var brushComponent = d3.nightcharts.brushComponent(exports.config);\n    var tipComponent = d3.nightcharts.tipComponent(exports.config);\n\n    _selection.each(function(_data) {\n      if (!utils.checkForData(config, _data)) {return;}\n      if (exports.config.xScaleType == 'time') {\n        let xDomain = utils.getXDomain(config, _data);\n        let adjustedXDomain = utils.adjustDomainForBarOnTimescale(xDomain, config, _data);\n        xAxisComponent.xDomain(adjustedXDomain);\n      }\n\n      var svgContainer = d3.select(this);\n      svgContainer.datum(_data).call(baseSvg);\n\n      var chartContainer = svgContainer.select('svg .container');\n      chartContainer.datum(_data).call(xAxisComponent);\n      chartContainer.datum(_data).call(yAxisComponent);\n      chartContainer.datum(_data).call(barComponent);\n\n      if (config.tip) {\n        if (!config.tip.rollover) {\n          tipComponent.tip({rollover: 'rect'});\n        }\n        chartContainer.datum(_data).call(tipComponent);\n      }\n\n      chartContainer.datum(_data).call(brushComponent);\n\n    });\n\n    // expose individual components\n    exports.brushComponent = brushComponent;\n    exports.tipComponent = tipComponent;\n  }\n\n  utils.getset(exports, config);\n\n  exports.config = config;\n\n  return exports;\n\n};\nd3.nightcharts.histoBar = function() {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var curry = utils.curry;\n  var compose = utils.compose;\n  var helpers = utils.extend(d3.nightcharts.domLabelHelpers(), d3.nightcharts.domHelpers());\n  var config = utils.extend(d3.nightcharts.config, d3.nightcharts.histoBarConfig, {use_clone: true});\n\n  config.xScaleType = 'linear';\n\n  var baseSvgFactory = compose(d3.nightcharts.baseSvg, utils.clone);\n  var xAxisComponentFactory = compose(d3.nightcharts.xAxisComponent, utils.clone);\n  var yAxisComponentFactory = compose(d3.nightcharts.yAxisComponent, utils.clone);\n  var histoBarComponentFactory = compose(d3.nightcharts.histoBarComponent, utils.clone);\n  var clipComponentFactory = compose(d3.nightcharts.clipComponent, utils.clone);\n  var brushComponentFactory = compose(d3.nightcharts.brushComponent, utils.clone);\n\n  //TODO....\n  var dispatch = d3.nightcharts.brushComponent.properties.dispatch;\n\n  function exports(_selection) {\n\n    var rawData = _selection.datum();\n    if (!utils.checkForData(config, rawData)) {return;}\n\n    var baseSvg = baseSvgFactory(config);\n    var xAxisComponent = xAxisComponentFactory(config);\n    var yAxisComponent = yAxisComponentFactory(config);\n    var histoBarComponentBack = histoBarComponentFactory(config);\n    var histoBarComponent = histoBarComponentFactory(config);\n    var clipComponent = clipComponentFactory(config);\n    var clipComponentBack = clipComponentFactory(config);\n    var brushComponent = brushComponentFactory(config);\n\n    histoBarComponentBack.containerCssClass('background');\n\n    histoBarComponent.on('containerReady', function(processedData, config) {\n      if (config.containerCssClass == 'background') {return;}\n      var tickValues = histoBarComponent.xTickValues();\n      var yDomain = histoBarComponent.yDomain();\n      var bins = histoBarComponent.bins();\n\n      xAxisComponent.xTickValues(tickValues);\n      chartContainer.datum(processedData).call(xAxisComponent);\n\n      yAxisComponent.yDomain(yDomain);\n      chartContainer.datum(processedData).call(yAxisComponent);\n\n      brushComponent.yDomain(yDomain);\n      brushComponent.bins(bins);\n      chartContainer.datum(processedData).call(brushComponent);\n\n    });\n\n    this.datum(rawData).call(baseSvg);\n\n    var chartContainer = this.select('svg .container');\n\n    clipComponentBack.clipIdKey('clipBack');\n    chartContainer.datum(rawData).call(clipComponentBack);\n    chartContainer.datum(rawData).call(clipComponent);\n\n    chartContainer.datum(rawData).call(histoBarComponentBack);\n    chartContainer.datum(rawData).call(histoBarComponent);\n\n    // expose individual components\n    exports.histoBarComponent = histoBarComponent;\n    exports.brushComponent = brushComponent;\n\n  }\n\n  utils.getset(exports, config);\n\n  exports.config = config;\n\n  return d3.rebind(exports, dispatch, 'on');\n\n};\nnightcharts.line = function() {\n  'use strict';\n\n  var utils = d3.nightcharts.utils();\n  var helpers = utils.extend(d3.nightcharts.domLabelHelpers(), d3.nightcharts.domHelpers());\n  var config = utils.extend(d3.nightcharts.config, d3.nightcharts.lineConfig, {use_clone: true});\n  config.graphType = 'line';\n\n  function exports(_selection) {\n\n    var baseSvg = d3.nightcharts.baseSvg(exports.config);\n    var xAxisComponent = d3.nightcharts.xAxisComponent(exports.config);\n    var yAxisComponent = d3.nightcharts.yAxisComponent(exports.config);\n    var clipComponent = d3.nightcharts.clipComponent(exports.config);\n    var lineComponent = d3.nightcharts.lineComponent(exports.config);\n    var brushComponent = d3.nightcharts.brushComponent(exports.config);\n    var tipComponent = d3.nightcharts.tipComponent(exports.config);\n\n    _selection.each(function(_data) {\n      if (!utils.checkForData(config, _data)) {return;}\n      var svgBasics = utils.getSvgBasics(config, _data);\n      var [chartW, chartH, invertOrientation, xRange, yRange, xDomain, yDomain, xScale, yScale] = svgBasics;\n\n      var svgContainer = d3.select(this);\n      svgContainer.datum(_data).call(baseSvg);\n\n      var chartContainer = svgContainer.select('svg .container');\n\n      chartContainer.datum(_data).call(xAxisComponent);\n      chartContainer.datum(_data).call(yAxisComponent);\n\n      if (config.listenToBrushEvents) {\n        chartContainer.datum(_data).call(clipComponent);\n        _data.clipId = clipComponent.properties.clipId;\n      }\n\n      chartContainer.datum(_data).call(lineComponent);\n\n      if (config.tip) {\n        let dataLength = _data.length;\n        if (!config.tip.rollover && dataLength > 1) {\n          tipComponent.tip({rollover: 'voronoi'});\n        } else if (!config.tip.rollover && dataLength == 1) {\n          tipComponent.tip({rollover: 'rect'});\n        }\n        chartContainer.datum(_data).call(tipComponent);\n      }\n\n      chartContainer.datum(_data).call(brushComponent);\n\n    });\n\n    // expose individual components\n    exports.brushComponent = brushComponent;\n    exports.tipComponent = tipComponent;\n  }\n\n  utils.getset(exports, config);\n\n  exports.config = config;\n\n  return exports;\n\n};\n"]}